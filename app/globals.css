@tailwind base;
@tailwind components;
@tailwind utilities;

:root {
  --color-cream: #FDF8F0;
  --color-cream-dark: #F5EFE3;
  --color-brand: #F5B731;
  --color-brand-dark: #E5A820;
  --color-navy: #1A1A2E;
}

html {
  scroll-behavior: smooth;
  -webkit-text-size-adjust: 100%;
  text-size-adjust: 100%;
}

/* Prevent iOS Safari auto-zoom on input focus */
@media screen and (max-width: 639px) {
  input, textarea, select {
    font-size: 16px !important;
  }
}

body {
  color: var(--color-navy);
  background-color: var(--color-cream);
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  touch-action: manipulation;
  /* Safe area support for notched devices */
  padding-top: env(safe-area-inset-top);
  padding-left: env(safe-area-inset-left);
  padding-right: env(safe-area-inset-right);
}

/* Body scroll lock when modal is open */
body.modal-open {
  overflow: hidden;
  position: fixed;
  width: 100%;
  height: 100%;
}

/* Mobile keyboard viewport fix: use dvh where supported */
@supports (height: 100dvh) {
  .h-screen-safe {
    height: 100dvh;
  }
}

@supports not (height: 100dvh) {
  .h-screen-safe {
    height: 100vh;
    height: -webkit-fill-available;
  }
}

/* Safe area bottom padding for fixed bottom elements */
.pb-safe {
  padding-bottom: env(safe-area-inset-bottom, 0px);
}

/* Minimal safe bottom - for input areas that need subtle spacing */
.safe-bottom {
  padding-bottom: max(8px, env(safe-area-inset-bottom, 8px));
}

/* Smooth scrollbars */
::-webkit-scrollbar {
  width: 6px;
}

::-webkit-scrollbar-track {
  background: transparent;
}

::-webkit-scrollbar-thumb {
  background: #D1C9BD;
  border-radius: 3px;
}

::-webkit-scrollbar-thumb:hover {
  background: #B8AFA3;
}

/* Strikethrough animation */
@keyframes strike {
  0% { width: 0; }
  100% { width: 100%; }
}

.strike-through {
  position: relative;
  display: inline-block;
}

.strike-through::after {
  content: '';
  position: absolute;
  top: 50%;
  left: -2px;
  right: -2px;
  width: calc(100% + 4px);
  height: 3px;
  background: #3B82F6;
  transform: rotate(-1.5deg);
}

/* Section fade-in on scroll */
.section-appear {
  opacity: 0;
  transform: translateY(20px);
  animation: sectionFade 0.7s ease-out forwards;
}

@keyframes sectionFade {
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

/* Chat page specific dark theme override */
.chat-dark-theme {
  background-color: #08080e;
  color: #ffffff;
}

.chat-dark-theme ::-webkit-scrollbar-thumb {
  background: #333;
}

.chat-dark-theme ::-webkit-scrollbar-thumb:hover {
  background: #555;
}
